@model NISC_MFP_MVC.ViewModels.CardReader.MultiFunctionPrintViewModel


@{
    string cr_type;
    string cr_mode;
    string cr_card_switch;
    string cr_status;

    cr_type = Model.cardReaderModel.cr_type == "M" ? "事務機" :
        Model.cardReaderModel.cr_type == "F" ? "影印機" : "印表機";

    cr_mode = Model.cardReaderModel.cr_mode == "F" ? "離線" : "連線";

    cr_card_switch = Model.cardReaderModel.cr_card_switch == "F" ? "關閉" : "開啟";

    cr_status = Model.cardReaderModel.cr_status == "Online" ? "線上" : "離線";

}

<style>
    .custom-divider-gradient {
        margin: 20px auto 20px auto;
        text-align: center;
        height: 2px;
        width: 80%;
        /* hsl(hue saturation lightness / alpha) */
        background: linear-gradient(90deg, hsl(0, 100%, 50%), hsl(60, 100%,50%), hsl(216, 100%, 50%));
    }
</style>

<div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
        @using (Html.BeginForm("CardReaderManagement", "CardReader", FormMethod.Post, new { @id = "cardreaderManagermentForm", @class = "overflow-auto" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(d => d.cardReaderModel.serial)

            <div class="modal-header">
                <h1 class="modal-title fs-4 fw-bold" id="exampleModalLabel">@ViewBag.formTitle</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">

                <div class="table-responsive">
                    <table id="managementDataTable" class="table table-striped table-bordered fs-6">
                        <thead>
                            <tr>
                                <th>卡機編號</th>
                                <th>IP位置</th>
                                <th>PORT</th>
                                <th>卡機種類</th>
                                <th>運作模式</th>
                                <th>卡號判斷開關</th>
                                <th>狀態</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="deleteRowData">
                                <td id="cr_id">@Model.cardReaderModel.cr_id</td>
                                <td id="cr_ip">@Model.cardReaderModel.cr_ip</td>
                                <td id="cr_port">@Model.cardReaderModel.cr_port</td>
                                <td id="cr_type">@cr_type</td>
                                <td id="cr_mode" class="@(cr_mode=="連線"?"fw-bold text-success":"fw-bold text-danger")">@cr_mode</td>
                                <td id="cr_card_switch" class="@(cr_card_switch=="開啟"?"fw-bold text-success":"fw-bold text-danger")">@cr_card_switch</td>
                                <td id="cr_status" class="@(cr_status=="線上"?"fw-bold text-success":"fw-bold text-danger")">@cr_status</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="custom-divider-gradient">&nbsp;</div>

                <div class="table-responsive">
                    <table class="table table-striped table-bordered fs-6 w-100">
                        <thead>
                            <tr>
                                <th style="width: 15%;">控制編號</th>
                                <th style="width: 15%;">IP位置</th>
                                <th style="width: 15%;">印表機名稱</th>
                                <th style="width: 15%;">列印顏色</th>
                                <th style="width: 15%;">驅動編號</th>
                                <th style="width: 10%;">狀態</th>
                                <th style="width: 15%;">操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="number" class="form-control form-control-sm" style="white-space: nowrap;"></td>
                                <td><input type="number" class="form-control form-control-sm" style="white-space: nowrap;"></td>
                                <td><input type="number" class="form-control form-control-sm" style="white-space: nowrap;"></td>
                                <td>
                                    @Html.DropDownList("color", new List<SelectListItem> {
                                       new SelectListItem{ Text="彩色",Value="C"},
                                       new SelectListItem{ Text="單色",Value="M"},
                                       new SelectListItem{ Text="未知",Value=""}
                                   }, new { @class = "form-control form-control-sm", @style = "white-space: nowrap;" })
                                </td>
                                <td><input type="number" class="form-control form-control-sm" style="white-space: nowrap;"></td>
                                <td>
                                    @Html.DropDownList("color", new List<SelectListItem> {
                                       new SelectListItem{ Text="線上",Value="Online"},
                                       new SelectListItem{ Text="離線",Value="Offline"}
                                   }, new { @class = "form-control form-control-sm", @style = "white-space: nowrap;" })
                                </td>
                                <td class="d-flex justify-content-around">
                                    <button type="button" id="btnCardReaderManagementAdd" class="btn btn-info btn-sm">新增</button>
                                </td>
                            </tr>

                            @foreach (NISC_MFP_MVC.ViewModels.CardReader.MultiFunctionPrintModel mfp in Model.multiFunctionPrintModels)
                            {
                                @Html.HiddenFor(d => @mfp.serial)
                                <tr>
                                    <td>@mfp.printer_id</td>
                                    <td>@mfp.mfp_ip</td>
                                    <td>@mfp.mfp_name</td>
                                    <td>@mfp.mfp_color</td>
                                    <td>@mfp.driver_number</td>
                                    <td>@mfp.mfp_status</td>
                                    <td class="d-flex justify-content-around">
                                        <button type="button" id="btnCardReaderManagementEdit" class="btn btn-info btn-sm">修改</button>
                                        <button type="button" id="btnCardReaderManagementDelete" class="btn btn-danger btn-sm">刪除</button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="submit" id="btnSubmmit" value="Confirm" class="btn btn-success">確定</button>
            </div>
        }
    </div>
</div>